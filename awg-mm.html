<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Conversor AWG ↔ mm – Ohmnio Calc</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <img src="logo.png" alt="Ohmnio Calc" class="logo">
    <h1>Ohmnio Calc</h1>
  </header>
  <nav>
    <a href="index.html">Inicio</a>
    <a href="seccion-cable.html">Sección Cable</a>
    <a href="awg-mm.html">AWG ↔ mm</a>
    <a href="mazo-cables.html">Mazo</a>
    <a href="resistencias.html">Resistencias</a>
    <a href="series-paralelo.html">Serie/Paralelo</a>
    <a href="divisor-tension.html">Divisor Tensión</a>
    <a href="potencia.html">Potencia</a>
    <a href="coste-coche.html">Coste Coche</a>
    <a href="conectores-38999.html">Conectores 38999</a>
  </nav>
  <main>
    <h2>Conversor AWG ↔ mm y mm²</h2>
    <p>Selecciona el tipo de valor que vas a introducir (calibre AWG, diámetro en milímetros o sección en mm²) e introduce el valor. La calculadora te devolverá el diámetro, la sección y las recomendaciones de calibre estándar en ambos sistemas.</p>
    <div class="card">
      <form id="awgForm" onsubmit="calcular(event)">
        <label for="inputType">Tipo de valor</label>
        <select id="inputType" name="inputType">
          <option value="awg">AWG</option>
          <option value="diametro">Diámetro (mm)</option>
          <option value="area">Sección (mm²)</option>
        </select>
        <label for="inputValue">Valor</label>
        <input type="number" id="inputValue" name="inputValue" step="any" min="0">
        <button type="submit">Calcular</button>
      </form>
      <div id="resultado" class="result"></div>
    </div>
    <div class="card">
      <h3>Notas</h3>
      <p>El calibre AWG se utiliza principalmente en sistemas eléctricos de EE. UU. Las equivalencias geométricas son aproximadas y pueden variar según el fabricante. Utiliza siempre esta información como orientación y comprueba con la norma y catálogos.</p>
    </div>
  </main>
  <footer>
    &copy; 2025 Ohmnio Calc
  </footer>
  <script>
    // Tabla de secciones métricas habituales (mm²)
    const metricSizes = [0.22, 0.25, 0.34, 0.5, 0.75, 1, 1.5, 2.5, 4, 6, 10, 16, 25, 35, 50, 70, 95, 120, 150, 185];
    function awgToDia(awg) {
      return 0.127 * Math.pow(92, (36 - awg) / 39);
    }
    function diaToAwg(dia) {
      const awg = 36 - 39 * Math.log10(dia / 0.127) / Math.log10(92);
      return awg;
    }
    function areaFromDia(dia) {
      return Math.PI * Math.pow(dia / 2, 2);
    }
    function diaFromArea(area) {
      return 2 * Math.sqrt(area / Math.PI);
    }
    function nearestMetric(area) {
      let nearest = metricSizes[0];
      let minDiff = Math.abs(area - metricSizes[0]);
      for (let i = 1; i < metricSizes.length; i++) {
        const diff = Math.abs(area - metricSizes[i]);
        if (diff < minDiff) {
          nearest = metricSizes[i];
          minDiff = diff;
        }
      }
      return nearest;
    }
    function calcular(event) {
      event.preventDefault();
      const type = document.getElementById('inputType').value;
      const value = parseFloat(document.getElementById('inputValue').value);
      const resultDiv = document.getElementById('resultado');
      if (isNaN(value) || value <= 0) {
        resultDiv.innerHTML = '<p>Introduce un valor válido.</p>';
        return;
      }
      let awg, dia, area;
      if (type === 'awg') {
        awg = value;
        dia = awgToDia(awg);
        area = areaFromDia(dia);
      } else if (type === 'diametro') {
        dia = value;
        area = areaFromDia(dia);
        awg = diaToAwg(dia);
      } else {
        area = value;
        dia = diaFromArea(area);
        awg = diaToAwg(dia);
      }
      const awgRound = Math.round(awg);
      const nearestMetricVal = nearestMetric(area);
      resultDiv.innerHTML = `
        <p><strong>Diámetro estimado:</strong> ${dia.toFixed(3)} mm</p>
        <p><strong>Sección estimada:</strong> ${area.toFixed(4)} mm²</p>
        <p><strong>AWG aproximado:</strong> ${awg.toFixed(1)} (≈ ${awgRound} AWG)</p>
        <p><strong>Recomendación en AWG:</strong> ${awgRound} AWG</p>
        <p><strong>Recomendación en mm²:</strong> ${nearestMetricVal} mm²</p>
      `;
    }
  </script>
</body>
</html>